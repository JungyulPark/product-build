<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-31S31HGWZ0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-31S31HGWZ0');
  </script>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "v2q4i24zi7");
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eye Strain Calculator - Eye Health Tools</title>
  <meta name="description" content="Calculate your digital eye strain level based on screen time, break frequency, and work environment. Get personalized recommendations.">
  <meta name="keywords" content="eye strain calculator, digital eye strain, computer vision syndrome, screen time effects, eye fatigue test">
  <meta name="author" content="Korean Ophthalmologist">
  <link rel="canonical" href="https://product-build.pages.dev/eye/eye-strain.html">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://product-build.pages.dev/eye/eye-strain.html">
  <meta property="og:title" content="Eye Strain Calculator - Eye Health Tools">
  <meta property="og:description" content="Calculate your digital eye strain level based on screen time, break frequency, and work environment. Get personalized recommendations.">
  <meta property="og:site_name" content="Eye Health Tools">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Eye Strain Calculator - Eye Health Tools">
  <meta name="twitter:description" content="Calculate your digital eye strain level based on screen time and habits.">

  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Eye Strain Calculator",
    "url": "https://product-build.pages.dev/eye/eye-strain.html",
    "description": "Calculate your digital eye strain level based on screen time, break frequency, and work environment",
    "applicationCategory": "HealthApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Person",
      "name": "Korean Ophthalmologist"
    }
  }
  </script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8992259838992521" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-8992259838992521">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="favicon.svg">

  <!-- Preload critical resources -->
  <link rel="preload" href="style.css" as="style">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <header role="banner">
    <div class="header-content">
      <h1>Eye Health Tools</h1>
      <p class="tagline">Eye Strain Calculator</p>
    </div>
    <nav aria-label="Main navigation" class="main-nav">
      <a href="index.html" class="nav-link">Home</a>
      <a href="eye-strain.html" class="nav-link active">Eye Strain</a>
      <a href="dry-eye.html" class="nav-link">Dry Eye</a>
      <a href="blue-light.html" class="nav-link">Blue Light</a>
      <a href="timer.html" class="nav-link">Timer</a>
    </nav>
    <button type="button" id="theme-toggle" aria-label="Toggle dark/light theme"></button>
  </header>

  <main id="main-content" role="main">
    <a href="index.html" class="back-link" aria-label="Go back to all tools">&#8592; Back to Tools</a>

    <div class="page-title">
      <h2>&#128065; Eye Strain Calculator</h2>
      <p>Answer a few questions to assess your digital eye strain risk</p>
      <p class="last-updated"><em>Updated January 2026</em></p>
    </div>

    <!-- GEO: User Context Section - Who, When, How -->
    <div class="user-context">
      <h3>Who Is This Tool For?</h3>
      <div class="context-list">
        <div class="context-item">
          <span class="context-icon">&#128187;</span>
          <div>
            <strong>Office Workers</strong>
            <span>Spending 8+ hours daily on computers</span>
          </div>
        </div>
        <div class="context-item">
          <span class="context-icon">&#127891;</span>
          <div>
            <strong>Students</strong>
            <span>Long study sessions with screens</span>
          </div>
        </div>
        <div class="context-item">
          <span class="context-icon">&#127918;</span>
          <div>
            <strong>Gamers</strong>
            <span>Extended gaming sessions</span>
          </div>
        </div>
        <div class="context-item">
          <span class="context-icon">&#128241;</span>
          <div>
            <strong>Remote Workers</strong>
            <span>Working from home with multiple screens</span>
          </div>
        </div>
      </div>
    </div>

    <div class="calculator-container">
      <div class="form-error-summary" id="form-error" role="alert" aria-live="polite"></div>
      <form id="strain-form">
        <div class="form-group">
          <label for="screen-time">Daily Screen Time (hours)</label>
          <input type="number" id="screen-time" min="0" max="24" step="0.5" required placeholder="e.g., 8">
          <small>Include all devices: computer, phone, tablet, TV</small>
        </div>

        <div class="form-group">
          <label for="break-frequency">How often do you take breaks?</label>
          <select id="break-frequency" required>
            <option value="">Select an option</option>
            <option value="0">Rarely or never</option>
            <option value="1">Every 2+ hours</option>
            <option value="2">Every 1-2 hours</option>
            <option value="3">Every 30-60 minutes</option>
            <option value="4">Every 20 minutes (20-20-20 rule)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="screen-distance">Screen Distance (cm)</label>
          <input type="number" id="screen-distance" min="10" max="200" required placeholder="e.g., 60">
          <small>Distance from your eyes to the screen</small>
        </div>

        <div class="form-group">
          <label for="lighting">Work Environment Lighting</label>
          <select id="lighting" required>
            <option value="">Select an option</option>
            <option value="0">Screen brighter than surroundings</option>
            <option value="1">Dim room with bright screen</option>
            <option value="2">Overhead lighting only</option>
            <option value="3">Balanced lighting (screen matches room)</option>
            <option value="4">Natural light with proper positioning</option>
          </select>
        </div>

        <div class="form-group">
          <label for="blink-awareness">Do you consciously blink while working?</label>
          <select id="blink-awareness" required>
            <option value="">Select an option</option>
            <option value="0">Never thought about it</option>
            <option value="1">Sometimes remember</option>
            <option value="2">Often conscious of blinking</option>
          </select>
        </div>

        <div class="form-group">
          <label for="glasses">Do you use computer glasses or blue light filter?</label>
          <select id="glasses" required>
            <option value="">Select an option</option>
            <option value="0">No</option>
            <option value="1">Software filter only (e.g., Night Shift)</option>
            <option value="2">Yes, blue light glasses or screen filter</option>
          </select>
        </div>

        <button type="submit" class="btn-primary">Calculate Eye Strain Risk</button>
      </form>

      <div class="result-container" id="result">
        <div class="score-display">
          <span class="score-value" id="score-value">0</span>
          <span class="score-label" id="score-label">Eye Strain Risk Score</span>
        </div>

        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="result-details" id="result-details">
          <h4>Recommendations</h4>
          <ul id="recommendations"></ul>
        </div>

        <button type="button" class="btn-secondary" onclick="resetForm()">Calculate Again</button>

        <!-- Premium CTA (shown after result) -->
        <div class="premium-cta" id="premium-cta" style="display: none;">
          <div class="premium-badge">ğŸ’ PREMIUM</div>
          <h4>Get Your Personalized Eye Care Plan</h4>
          <p>AI-powered comprehensive analysis with GPT-5</p>

          <div class="premium-features-mini">
            <span>âœ“ 30-Day Eye Recovery Program</span>
            <span>âœ“ Personalized Exercise Routine</span>
            <span>âœ“ Ergonomic Setup Guide</span>
            <span>âœ“ Weekly Progress Tracker</span>
          </div>

          <div class="premium-price-mini">
            <span class="current" style="color: var(--text-secondary);">Coming Soon</span>
          </div>

          <button class="btn-premium" disabled style="opacity: 0.6; cursor: not-allowed;">
            ğŸš€ Premium Plan - Coming Soon
          </button>
        </div>

        <!-- ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤: ëˆˆ ê±´ê°• ìƒí’ˆ -->
        <div class="affiliate-banner" style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-secondary); border-radius: 12px; text-align: center;">
          <h4 style="color: var(--accent); margin-bottom: 0.5rem;">ğŸ‘ï¸ ëˆˆ ê±´ê°•ì„ ìœ„í•œ ì¶”ì²œ ìƒí’ˆ</h4>
          <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">í”¼ë¡œí•œ ëˆˆì„ ìœ„í•œ ì˜¨ì°œì§ˆê¸°</p>
          <div id="coupang-container" style="display: flex; justify-content: center; min-height: 240px; align-items: center;">
            <iframe id="coupang-iframe" src="https://coupa.ng/clpnwK" width="120" height="240" frameborder="0" scrolling="no" referrerpolicy="unsafe-url" browsingtopics onload="this.parentElement.classList.add('loaded')" onerror="this.style.display='none'; this.parentElement.innerHTML='<a href=\'https://link.coupang.com/a/dyAx7o\' target=\'_blank\' style=\'color: var(--accent);\'>ğŸ‘ï¸ ì¿ íŒ¡ì—ì„œ ìƒí’ˆ ë³´ê¸°</a>';"></iframe>
          </div>
          <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.5rem;">* ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤</p>
        </div>
      </div>
    </div>

    <!-- Premium Modal -->
    <div class="premium-modal" id="premium-modal" onclick="if(event.target === this) closeEyePremiumModal()">
      <div class="premium-modal-content">
        <button class="modal-close" onclick="closeEyePremiumModal()">&times;</button>

        <div class="modal-header">
          <div class="premium-badge">ğŸ’ PREMIUM EYE CARE</div>
          <h3>Comprehensive Eye Health Plan</h3>
          <p>Powered by Advanced AI Analysis</p>
        </div>

        <div class="modal-features">
          <div class="feature-item">ğŸ“‹ 30-Day Recovery Program</div>
          <div class="feature-item">ğŸ‘ï¸ Daily Eye Exercises</div>
          <div class="feature-item">ğŸ–¥ï¸ Ergonomic Setup Guide</div>
          <div class="feature-item">ğŸ’¡ Lighting Optimization</div>
          <div class="feature-item">ğŸ“Š Weekly Progress Reports</div>
          <div class="feature-item">ğŸ¥— Eye-Health Diet Plan</div>
          <div class="feature-item">ğŸ’Š Supplement Guide</div>
          <div class="feature-item">ğŸ“± PDF Download</div>
        </div>

        <div class="modal-pricing">
          <span class="price-now" style="font-size: 1.2rem;">Coming Soon</span>
        </div>

        <button class="btn-premium-full" disabled style="opacity: 0.6; cursor: not-allowed;">
          ğŸš€ Premium Features Coming Soon
        </button>

        <p class="modal-trust">
          â³ We're preparing something amazing for you!
        </p>
      </div>
    </div>

    <section class="disclaimer">
      <p><strong>Medical Disclaimer:</strong> This calculator provides general information and is not a substitute for professional medical advice. If you experience persistent eye strain, blurred vision, or headaches, please consult an ophthalmologist.</p>
    </section>
  </main>

  <footer role="contentinfo">
    <nav aria-label="Footer navigation">
      <a href="index.html">Home</a>
      <a href="eye-strain.html">Eye Strain</a>
      <a href="dry-eye.html">Dry Eye</a>
      <a href="blue-light.html">Blue Light</a>
      <a href="timer.html">Timer</a>
    </nav>
    <p>&copy; 2026 Eye Health Tools. Created by a Korean Ophthalmologist.</p>
  </footer>

  <script>
    // Theme toggle with feedback
    const themeToggle = document.getElementById('theme-toggle');
    const savedTheme = localStorage.getItem('eye-theme') || 'dark';
    if (savedTheme === 'light') {
      document.body.setAttribute('data-theme', 'light');
    }
    themeToggle.addEventListener('click', () => {
      const isLight = document.body.getAttribute('data-theme') === 'light';
      if (isLight) {
        document.body.removeAttribute('data-theme');
        localStorage.setItem('eye-theme', 'dark');
        showThemeToast('ğŸŒ™ Dark mode');
      } else {
        document.body.setAttribute('data-theme', 'light');
        localStorage.setItem('eye-theme', 'light');
        showThemeToast('â˜€ï¸ Light mode');
      }
    });

    function showThemeToast(message) {
      const existing = document.querySelector('.theme-toast');
      if (existing) existing.remove();
      const toast = document.createElement('div');
      toast.className = 'theme-toast';
      toast.textContent = message;
      toast.style.cssText = 'position:fixed;top:80px;right:20px;background:var(--bg-card);color:var(--text-primary);padding:0.75rem 1.5rem;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:9999;animation:fadeInOut 2s forwards;';
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    // Calculator logic
    const form = document.getElementById('strain-form');
    const result = document.getElementById('result');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const screenTime = parseFloat(document.getElementById('screen-time').value);
      const breakFreq = document.getElementById('break-frequency').value;
      const distance = parseInt(document.getElementById('screen-distance').value);
      const lighting = document.getElementById('lighting').value;
      const blinkAwareness = document.getElementById('blink-awareness').value;
      const glasses = document.getElementById('glasses').value;

      // Validation
      const errors = [];
      if (isNaN(screenTime) || screenTime < 0) errors.push('Please enter your daily screen time');
      if (breakFreq === '') errors.push('Please select how often you take breaks');
      if (isNaN(distance) || distance < 10) errors.push('Please enter your screen distance (minimum 10cm)');
      if (lighting === '') errors.push('Please select your lighting environment');
      if (blinkAwareness === '') errors.push('Please select your blink awareness');
      if (glasses === '') errors.push('Please select if you use computer glasses');

      if (errors.length > 0) {
        showFormError(errors);
        return;
      }

      clearFormError();

      // Convert to numbers after validation
      const breakFreqNum = parseInt(breakFreq);
      const lightingNum = parseInt(lighting);
      const blinkNum = parseInt(blinkAwareness);
      const glassesNum = parseInt(glasses);

      // Calculate score (0-100, higher = more strain risk)
      let score = 0;

      // Screen time scoring (0-30 points)
      if (screenTime >= 12) score += 30;
      else if (screenTime >= 10) score += 25;
      else if (screenTime >= 8) score += 20;
      else if (screenTime >= 6) score += 15;
      else if (screenTime >= 4) score += 10;
      else score += 5;

      // Break frequency scoring (0-25 points, inverted)
      score += (4 - breakFreqNum) * 6.25;

      // Distance scoring (0-15 points)
      if (distance < 40) score += 15;
      else if (distance < 50) score += 10;
      else if (distance < 60) score += 5;
      else score += 0;

      // Lighting scoring (0-15 points, inverted)
      score += (4 - lightingNum) * 3.75;

      // Blink awareness (0-10 points, inverted)
      score += (2 - blinkNum) * 5;

      // Glasses/filter (0-5 points, inverted)
      score += (2 - glassesNum) * 2.5;

      score = Math.round(Math.min(100, Math.max(0, score)));

      // Display result
      displayResult(score, { screenTime, breakFreq: breakFreqNum, distance, lighting: lightingNum, blinkAwareness: blinkNum, glasses: glassesNum });
    });

    function displayResult(score, factors) {
      const scoreValue = document.getElementById('score-value');
      const scoreLabel = document.getElementById('score-label');
      const progressFill = document.getElementById('progress-fill');
      const recommendations = document.getElementById('recommendations');

      // Animate score
      let currentScore = 0;
      const interval = setInterval(() => {
        currentScore += 2;
        if (currentScore >= score) {
          currentScore = score;
          clearInterval(interval);
        }
        scoreValue.textContent = currentScore;
        progressFill.style.width = currentScore + '%';
      }, 20);

      // Set color and label based on score
      scoreValue.className = 'score-value';
      if (score <= 30) {
        scoreValue.classList.add('score-low');
        scoreLabel.textContent = 'Low Risk - Good job!';
        progressFill.style.background = 'var(--success)';
      } else if (score <= 60) {
        scoreValue.classList.add('score-medium');
        scoreLabel.textContent = 'Moderate Risk - Room for improvement';
        progressFill.style.background = 'var(--warning)';
      } else {
        scoreValue.classList.add('score-high');
        scoreLabel.textContent = 'High Risk - Take action now';
        progressFill.style.background = 'var(--danger)';
      }

      // Generate recommendations
      const recs = [];

      if (factors.screenTime >= 8) {
        recs.push('Consider reducing screen time or taking more frequent breaks');
      }
      if (factors.breakFreq < 3) {
        recs.push('Follow the 20-20-20 rule: Every 20 minutes, look at something 20 feet away for 20 seconds');
      }
      if (factors.distance < 50) {
        recs.push('Increase your screen distance to at least 50-70cm (arm\'s length)');
      }
      if (factors.lighting < 3) {
        recs.push('Adjust your lighting so the screen brightness matches your surroundings');
      }
      if (factors.blinkAwareness < 2) {
        recs.push('Practice conscious blinking - we blink 66% less when using screens');
      }
      if (factors.glasses < 2) {
        recs.push('Consider using blue light filtering glasses or screen settings');
      }

      if (recs.length === 0) {
        recs.push('Keep up your excellent eye care habits!');
        recs.push('Consider regular eye exams every 1-2 years');
      }

      recommendations.innerHTML = recs.map(r => `<li>${r}</li>`).join('');

      result.classList.add('visible');
      result.scrollIntoView({ behavior: 'smooth', block: 'center' });

      // Show premium CTA after result
      setTimeout(() => {
        document.getElementById('premium-cta').style.display = 'block';
      }, 1500);

      // GA Event Tracking
      if (typeof gtag !== 'undefined') {
        gtag('event', 'eye_strain_calculated', {
          'event_category': 'Tool Usage',
          'event_label': score <= 30 ? 'Low Risk' : score <= 60 ? 'Moderate Risk' : 'High Risk',
          'value': score
        });
      }
    }

    function resetForm() {
      form.reset();
      result.classList.remove('visible');
      document.getElementById('premium-cta').style.display = 'none';
      clearFormError();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Premium Modal Functions
    // TODO: Replace with your Stripe Payment Link
    const EYE_STRIPE_LINK = 'https://buy.stripe.com/YOUR_EYE_PAYMENT_LINK';

    function showEyePremiumModal() {
      document.getElementById('premium-modal').classList.add('show');
      document.body.style.overflow = 'hidden';

      if (typeof gtag !== 'undefined') {
        gtag('event', 'premium_modal_opened', {
          'event_category': 'Premium',
          'event_label': 'Eye Strain Tool'
        });
      }
    }

    function closeEyePremiumModal() {
      document.getElementById('premium-modal').classList.remove('show');
      document.body.style.overflow = '';
    }

    function handleEyePremiumPurchase() {
      const btn = document.querySelector('.btn-premium-full');
      btn.disabled = true;
      btn.innerHTML = 'Redirecting...';

      if (typeof gtag !== 'undefined') {
        gtag('event', 'begin_checkout', {
          'event_category': 'Premium',
          'event_label': 'Eye Care Plan',
          'value': 4.99
        });
      }

      // Redirect to Stripe
      window.location.href = EYE_STRIPE_LINK;
    }

    function showFormError(errors) {
      const errorDiv = document.getElementById('form-error');
      if (Array.isArray(errors)) {
        errorDiv.innerHTML = '<strong>Please fix the following:</strong><ul>' +
          errors.map(e => '<li>' + e + '</li>').join('') + '</ul>';
      } else {
        errorDiv.textContent = errors;
      }
      errorDiv.classList.add('visible');
      errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function clearFormError() {
      const errorDiv = document.getElementById('form-error');
      errorDiv.innerHTML = '';
      errorDiv.classList.remove('visible');
    }
  </script>
  <!-- Userback Feedback Widget -->
  <script>
    window.Userback = window.Userback || {};
    Userback.access_token = "A-dCd3pYRpaT8J3VbfGJYZcGVY9";
    (function(d) {
      var s = d.createElement("script");s.async = true;s.src = "https://static.userback.io/widget/v1.js";(d.head || d.body).appendChild(s);
    })(document);
  </script>

</body>
</html>
